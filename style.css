/* --- 고전 도서관 테마 --- */
:root {
    --dark-oak: #1a0f0a;
    --gold: #c5a059;
    --parchment: #e8d5b5;
    --leather-red: #5d1916;
    --leather-blue: #1a2a44;
    --text-sepia: #4e342e;
}

body {
    margin: 0; padding: 0;
    background: var(--dark-oak);
    /* 웅장한 도서관 배경 느낌의 그라데이션 */
    background-image: radial-gradient(circle, #2c1810 0%, #0a0504 100%);
    color: var(--parchment);
    font-family: 'Playfair Display', serif;
    display: flex; justify-content: center; height: 100vh; overflow: hidden;
}

/* 화면 전체에 그림자 효과를 주어 집중도 향상 */
.library-vignette {
    position: fixed; inset: 0;
    background: radial-gradient(circle, transparent 20%, rgba(0,0,0,0.8) 100%);
    pointer-events: none; z-index: 100;
}

.screen { display: none; width: 100%; max-width: 420px; flex-direction: column; padding: 20px; box-sizing: border-box; }
.screen.active { display: flex; }

/* --- 헤더: 고전적인 문장(Crest) 스타일 --- */
.main-header { text-align: center; margin-bottom: 30px; }
.title-crest { display: flex; align-items: center; justify-content: center; gap: 15px; }
.logo-tile {
    width: 40px; height: 40px; border: 2px solid var(--gold);
    color: var(--gold); font-family: 'Cinzel', serif; font-weight: 900;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 0 10px rgba(197, 160, 89, 0.3);
}
h1 { font-family: 'Cinzel', serif; font-size: 2.2rem; margin: 0; letter-spacing: 4px; color: #fff; }
.tagline { font-style: italic; opacity: 0.6; margin-top: 5px; font-size: 0.9rem; }

/* --- 대도서관 서가 (Grand Library) --- */
.grand-library { margin: 20px 0; width: 100%; }
.shelf-header { font-family: 'Cinzel', serif; text-align: center; font-size: 0.8rem; color: var(--gold); margin-bottom: 20px; letter-spacing: 2px; }

.scroll-container { position: relative; width: 100%; }
.shelf-row {
    display: flex; gap: 35px; overflow-x: auto; padding: 40px 20px;
    scrollbar-width: none;
}
.shelf-row::-webkit-scrollbar { display: none; }

.wood-shelf {
    position: absolute; bottom: 35px; left: 0; width: 100%; height: 20px;
    background: linear-gradient(to bottom, #3d2419, #1a0f0a);
    box-shadow: 0 10px 20px rgba(0,0,0,0.7); border-radius: 2px;
}

/* --- 책 디자인 (현실적인 입체감) --- */
.book-set { flex-shrink: 0; perspective: 1000px; }

/* 1. 펼쳐진 책 (완료 레벨) */
.book-open {
    display: flex; width: 110px; height: 85px; transform: rotateX(10deg);
}
.page-left, .page-right {
    flex: 1; background: var(--parchment); color: var(--text-sepia);
    display: flex; align-items: center; justify-content: center; font-weight: bold;
    border: 1px solid rgba(0,0,0,0.1); box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}
.page-left { border-radius: 5px 0 0 5px; transform: rotateY(25deg); origin: right; background-image: linear-gradient(to right, #d4c3a3, #e8d5b5); }
.page-right { border-radius: 0 5px 5px 0; transform: rotateY(-25deg); origin: left; }

/* 2. 세워진 가죽 책 (현재/잠금 레벨) */
.book-standing {
    width: 65px; height: 100px; position: relative; transform-style: preserve-3d;
    transition: transform 0.4s ease;
}
.front-cover {
    position: absolute; width: 100%; height: 100%; background: var(--leather-red);
    border-radius: 2px 5px 5px 2px; display: flex; align-items: center; justify-content: center;
    border: 1px solid rgba(255,255,255,0.1); box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
    font-family: 'Cinzel', serif; font-weight: bold;
}

.book-standing.active { transform: scale(1.15) translateY(-15px); cursor: pointer; }
.book-standing.active .front-cover {
    background: var(--leather-blue); border: 2px solid var(--gold); color: var(--gold);
    box-shadow: 0 0 20px rgba(197, 160, 89, 0.4);
}

.book-standing.locked { opacity: 0.5; filter: sepia(1) brightness(0.7); }

.book-standing:hover:not(.locked) { transform: translateY(-20px) rotateY(-10deg); }

/* --- 푸터 및 버튼 --- */
.main-footer { margin-top: auto; padding-bottom: 20px; text-align: center; }
.btn-z-challenge {
    width: 100%; padding: 16px; background: transparent; 
    border: 2px double var(--gold); color: var(--gold);
    font-family: 'Cinzel', serif; font-weight: 900; letter-spacing: 2px;
    cursor: pointer; margin-bottom: 25px; transition: 0.3s;
}
.btn-z-challenge:hover { background: var(--gold); color: var(--dark-oak); }

.icon-nav { display: flex; justify-content: space-around; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 50px; border: 1px solid rgba(197, 160, 89, 0.2); }
.nav-btn { font-size: 1.3rem; cursor: pointer; transition: 0.3s; opacity: 0.7; }
.nav-btn:hover { opacity: 1; transform: scale(1.2); text-shadow: 0 0 10px var(--gold); }
